  
<launch>
    <!-- choose from teb/eband/dwa -->
    <arg name="move_base_planner" default="eband"/>
    <arg name="open_rviz" default="false"/>
    <arg name="teleop" default="false"/>
    <arg name="map_name" default="MBC10_lv10"/>
    <arg name="map_file" default="/media/caato2/data/$(arg map_name)/$(arg map_name).yaml"/>
    <!-- <arg name="map_file" value="/media/caato2/data/Mezzanine_downsampled/Mezzanine_downsampled.yaml"/> -->
    <arg name="rviz_config" value="$(find caato2_navigation)/rviz/atc.rviz"/>

    <!-- caato2 -->
    <include file="$(find caato2_bringup)/launch/include/description_caato_3d.launch"/>
    
    <include file="$(find roboteq_diff_driver)/launch/driver.launch" >
    <arg name="base_frame" value="base_footprint"/>
    <arg name="pub_odom_tf" value="true"/>
    </include>
    
    <include file="$(find caato2_bringup)/launch/include/caato2_lasers.launch" />
    
     <!--Mod by Selva, July 7 for laser filter-->
    <include file="$(find laser_filters)/examples/speckle_filter_example.launch">
    </include>

    <!-- atc -->
    <include file="$(find atc_stm)/launch/astm.frontbackAT.noGDB.launch"/> 
  
        
    <!-- for AMCL -->
    <arg name="initial_pose_x" default="0.0"/>
    <arg name="initial_pose_y" default="0.0"/>
    <arg name="initial_pose_a" default="0.0"/>

    <!-- rviz -->
    <!--
    <group if="$(arg open_rviz)"> 
      <node pkg="rviz" type="rviz" name="rviz" required="true"
            args="-d $(arg rviz_config)"/>
    </group>
    -->
  
    <!-- Map server -->
    <node pkg="map_server" name="map_server" type="map_server" args="$(arg map_file)">
    </node>
    
    <!-- AMCL -->
    <include file="$(find caato2_navigation)/launch/move_base/amcl.launch">
        <arg name="initial_pose_x" value="$(arg initial_pose_x)"/>
        <arg name="initial_pose_y" value="$(arg initial_pose_y)"/>
        <arg name="initial_pose_a" value="$(arg initial_pose_a)"/>
    </include>

    <!-- move_base -->
    <include file="$(find caato2_navigation)/launch/move_base/move_base_$(arg move_base_planner).launch"/> 

    <!-- waypoints_server -->
    <node pkg="atc_waypoints" type="waypoints_server" required="true" name="waypoints_server" output="screen" />

<!--Mod by Selva, To quick start for testing, Aug 1 2022-->
<!--Reverse docking-->
<include file="$(find caato2_bringup)/launch/include/caato2_reverse_dock.launch" >
</include>

<!--RMF client-->
<include file="$(find caato2_bringup)/launch/include/caato2_rmf_client.launch" >
</include>

</launch>
  
